webpackJsonp([2,0],[function(t,e,i){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{"default":t}}var o=i(49),n=e(o),s=i(140),r=e(s),a=i(139),l=e(a);i(50),i(101);var u=i(134),c=e(u),d=i(136),p=e(d),f=i(135),h=e(f),v=i(137),m=e(v);n["default"].use(r["default"]),n["default"].use(l["default"]),n["default"].mixin({data:function(){return{locals:t}}});var x=new r["default"]({history:!0}),_=[];x.beforeEach(function(t){var e,i=t.from.path,o=t.to.path,s=_.length-1;i?o===_[s]?e="current":o===_[s-1]?(e="back",_.splice(s,1)):(e="forward",_.push(o)):(e="current",_.push(o)),x.app.direction=e,n["default"].nextTick(function(){return t.next()})}),x.map({"/":{component:p["default"]},"/:team":{component:h["default"]},"/:team/:user":{component:m["default"]}}),x.start(c["default"],"#app")}).call(e,i(11))},,,,,,,,,,,function(t,e){"use strict";t.exports={api:"http://api.ticket.imlianer.com"}},,,,,,,,,,,,,,,,,,,function(t,e,i){var o,n;i(102),o=i(54),n=i(121),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(105),o=i(57),n=i(124),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(106),o=i(58),n=i(125),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(108),o=i(60),n=i(128),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(109),o=i(61),n=i(129),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},,,,,,,,,,,,function(t,e,i){var o,n;i(103),o=i(55),n=i(122),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(110),n=i(126),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(107),o=i(59),n=i(127),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},,function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var n=i(49),s=o(n);s["default"].filter("reverse",function(t){return t.slice().reverse()})},,,,function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(47),s=o(n),r=i(53);e["default"]={components:{InlineDesc:s["default"]},props:{title:String,value:[String,Number],isLink:Boolean,inlineDesc:String,primary:{type:String,"default":"title"},link:{type:[String,Object]}},methods:{onClick:function(){(0,r.go)(this.link,this.$router)}}}},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(138),s=o(n);e["default"]={components:{Dialog:s["default"]},props:{show:{type:Boolean,"default":!1,twoWay:!0},title:{type:String,required:!0},confirmText:{type:String,"default":"confirm"},cancelText:{type:String,"default":"cancel"},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"}},methods:{onConfirm:function(){this.show=!1,this.$emit("on-confirm")},onCancel:function(){this.show=!1,this.$emit("on-cancel")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{show:{type:Boolean,"default":!1},maskTransition:{type:String,"default":"vux-fade"},dialogTransition:{type:String,"default":"vux-dialog"},hideOnBlur:Boolean,scroll:{type:Boolean,"default":!0}},watch:{show:function(t){this.$emit(t?"on-show":"on-hide")}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{title:String,titleColor:String,labelWidth:String,labelAlign:String,labelMarginRight:String,gutter:String}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{type:String},computed:{className:function(){return"weui_icon weui_icon_"+this.type}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{show:{type:Boolean,"default":!1},time:{type:Number,"default":2e3},type:{type:String,"default":"success"},transition:{type:String,"default":"vux-fade"},width:{type:String,"default":"7.6em"},text:String},computed:{toastClass:function(){return{weui_toast_forbidden:"warn"===this.type,weui_toast_cancel:"cancel"===this.type,weui_toast_success:"success"===this.type,weui_toast_text:"text"===this.type}}},watch:{show:function(t){var e=this;t&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.show=!1,e.$emit("on-hide")},this.time))}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{leftOptions:{type:Object,"default":function(){return{showBack:!0,backText:"Back",preventGoBack:!1}}},title:String,transition:String,rightOptions:{type:Object,"default":function(){return{showMore:!1}}}},methods:{onClickBack:function(){this.leftOptions.preventGoBack?this.$emit("on-click-back"):history.back()}}}},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(66),s=o(n),r=i(51),a=o(r),l=i(32),u=o(l),c=i(47),d=o(c),p=i(118),f=o(p),h=i(120),v=o(h),m={email:{fn:f["default"],msg:"邮箱格式"},"china-mobile":{fn:function(t){return(0,v["default"])(t,"zh-CN")},msg:"手机号码"},"china-name":{fn:function(t){return t.length>=2&&t.length<=6},msg:"中文姓名"}};e["default"]={ready:function(){this.title||this.placeholder||this.value||console.warn("no title and no placeholder?"),this.equalWith&&(this.showClear=!1),this.required&&!this.value&&(this.valid=!1),"email"===this.isType&&(this.type="email")},mixins:[a["default"]],components:{Icon:u["default"],InlineDesc:d["default"]},props:{title:{type:String,"default":""},placeholder:String,value:{type:String,"default":"",twoWay:!0},name:String,readonly:{type:Boolean,"default":!1},keyboard:String,inlineDesc:String,isType:String,min:Number,max:Number,showClear:{type:Boolean,"default":!0},equalWith:String,type:{type:String,"default":"text"},textAlign:String,autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false"},computed:{pattern:function(){if("number"===this.keyboard||"china-mobile"===this.isType)return"[0-9]*"},labelWidth:function(){return this.title.replace(/[^x00-xff]/g,"00").length/2+1},hasErrors:function(){return(0,s["default"])(this.errors).length>0},inputStyle:function(){if(this.textAlign)return{textAlign:this.textAlign}}},methods:{clear:function(){this.value="",this.focus=!0},blur:function(){this.setTouched(),this.validate()},getError:function(){var t=(0,s["default"])(this.errors)[0];this.firstError=this.errors[t]},validate:function(){if(this.equalWith)return void this.validateEqual();if(this.errors={},!this.value&&!this.required)return void(this.valid=!0);if(!this.value&&this.required)return this.valid=!1,void(this.errors.required="必填哦");var t=m[this.isType];if(t){if(this.valid=t.fn(this.value),!this.valid)return void(this.errors.format=t.msg+"格式不对哦~");delete this.errors.format}if(this.min){if(this.value.length<this.min)return this.errors.min=this.$interpolate("最少应该输入{{min}}个字符哦"),void(this.valid=!1);delete this.errors.min}if(this.max){if(this.value.length>this.max)return this.errors.max=this.$interpolate("最多可以输入{{max}}个字符哦"),this.valid=!1,void(this.forceShowError=!0);this.forceShowError=!1,delete this.errors.max}this.valid=!0},validateEqual:function(){var t=this.dirty||this.value.length>=this.equalWith.length;return t&&this.value!==this.equalWith?(this.valid=!1,void(this.errors.equal="输入不一致")):(this.valid=!0,void delete this.errors.equal)}},data:function x(){var x={firstError:"",forceShowError:!1,hasLengthEqual:!1,focus:!1};return x},watch:{focus:function(t){t&&this.$els.input.focus()},valid:function(){this.getError()},value:function(t){this.equalWith?(t.length===this.equalWith.length&&(this.hasLengthEqual=!0),this.validateEqual()):this.validate()}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{direction:"current"}}}},function(t,e,i){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(33),s=o(n),r=i(31),a=o(r),l=i(30),u=o(l),c=i(34),d=o(c),p=i(32),f=o(p),h=i(48),v=o(h),m=i(46),x=o(m);e["default"]={components:{Group:a["default"],Cell:u["default"],xHeader:s["default"],xInput:d["default"],icon:f["default"],toast:v["default"],confirm:x["default"]},data:function(){return{member:[],value:"",already:!1,confirm:!1}},computed:{team:function(){return"yypt"}},methods:{submit:function(){var e=this,i=e.value.trim();if(i){if(e.member.indexOf(i)>-1)return void(e.already=!0);e.member.splice(0,0,i),e.value="",e.$http({method:"post",url:t.api+"/team/apply",body:{teamId:e.$route.params.team,userName:i}})}},remove:function(e){var i=this;i.$http({method:"delete",url:t.api+"/team/apply",body:{teamId:i.$route.params.team,userName:i.confirmTarget}}),e&&i.member.$remove(i.confirmTarget),i.confirmTarget=null},confirmRemove:function(t){var e=this;e.confirmTarget=t,e.confirm=!0}},compiled:function(){var e=this;e.$http({method:"get",url:t.api+"/team/apply",params:{teamId:e.$route.params.team}}).then(function(t){var i=t.body;e.member=i.data})}}}).call(e,i(11))},function(t,e,i){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(33),s=o(n),r=i(31),a=o(r),l=i(30),u=o(l),c=i(34),d=o(c);e["default"]={components:{Group:a["default"],Cell:u["default"],xHeader:s["default"],xInput:d["default"]},data:function(){return{teams:[]}},init:function(){var e=this;e.$http.get(t.api+"/teams").then(function(t){var i=t.body;e.teams=i.data})}}}).call(e,i(11))},function(t,e,i){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(33),s=o(n),r=i(31),a=o(r),l=i(30),u=o(l),c=i(34),d=o(c),p=i(32),f=o(p),h=i(48),v=o(h),m=i(46),x=o(m);e["default"]={components:{Group:a["default"],Cell:u["default"],xHeader:s["default"],xInput:d["default"],icon:f["default"],toast:v["default"],confirm:x["default"]},data:function(){return{teamId:"",teamName:"",userName:"",count:0}},compiled:function(){var e=this;e.teamId=e.$route.params.team,e.userName=e.$route.params.user,e.$http({method:"get",url:t.api+"/team/name",params:{teamId:e.teamId}}).then(function(t){var i=t.body;e.teamName=i.data.teamName}),e.$http({method:"get",url:t.api+"/user",params:{teamId:e.teamId,userName:e.userName}}).then(function(t){var i=t.body;e.count=i.data.count.length})}}}).call(e,i(11))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,function(t,e){t.exports=" <div class=weui_cell :class=\"{'vux-tap-active': isLink || !!link}\" @click=onClick> <div class=weui_cell_hd> <slot name=icon></slot> </div> <div class=weui_cell_bd :class=\"{'weui_cell_primary':primary==='title'}\"> <p> {{title}} <slot name=after-title></slot> </p> <inline-desc>{{inlineDesc}}</inline-desc> </div> <div class=weui_cell_ft :class=\"{'weui_cell_primary':primary==='content', 'with_arrow': isLink || !!link}\"> {{value}} <slot name=value></slot> <slot></slot> </div> <slot name=child></slot> </div> "},function(t,e){t.exports=' <dialog class=weui_dialog_confirm :show=show :mask-transition=maskTransition :dialog-transition=dialogTransition @on-hide="$emit(\'on-hide\')" @on-show="$emit(\'on-show\')"> <div class=weui_dialog_hd><strong class=weui_dialog_title>{{title}}</strong></div> <div class=weui_dialog_bd><slot></slot></div> <div class=weui_dialog_ft> <a href=javascript:; class="weui_btn_dialog default" @click=onCancel>{{cancelText}}</a> <a href=javascript:; class="weui_btn_dialog primary" @click=onConfirm>{{confirmText}}</a> </div> </dialog> '},function(t,e){t.exports=' <div class=weui_dialog_alert @touchmove="!this.scroll && $event.preventDefault()"> <div class=weui_mask @click="hideOnBlur && (show = false)" v-show=show :transition=maskTransition></div> <div class=weui_dialog v-show=show :transition=dialogTransition> <slot></slot> </div> </div> '},function(t,e){t.exports=' <div> <div class=weui_cells_title v-if=title :style={color:titleColor} v-html=title></div> <div class=weui_cells :class="{\'vux-no-group-title\':!title}" :style="{marginTop: gutter}"> <slot></slot> </div> </div> '},function(t,e){t.exports=" <i class={{className}}></i> "},function(t,e){t.exports=" <span class=vux-label-desc><slot></slot></span> "},function(t,e){t.exports=' <div class=vux-toast> <div class=weui_mask_transparent v-show=show></div> <div class=weui_toast :style="{width: width}" :class=toastClass v-show=show :transition=transition> <i class=weui_icon_toast v-show="type !== \'text\'"></i> <p class=weui_toast_content v-if=text v-html=text></p> <p class=weui_toast_content v-else><slot></slot></p> </div> </div> '},function(t,e){t.exports=" <div class=vux-header> <div class=vux-header-left> <a class=vux-header-back @click.preventdefault v-show=leftOptions.showBack :transition=transition @click=onClickBack>{{leftOptions.backText}}</a> <slot name=left></slot> </div> <h1 class=vux-header-title @click=\"$emit('on-click-title')\"><span v-show=title :transition=transition>{{title}}</span><slot></slot></h1> <div class=vux-header-right> <a class=vux-header-more @click.preventdefault @click=\"$emit('on-click-more')\" v-if=rightOptions.showMore></a> <slot name=right></slot> </div> </div> "},function(t,e){t.exports=' <div class=weui_cell :class="{\'weui_cell_warn\': !valid}"> <div class=weui_cell_hd> <label class=weui_label :style="{width: $parent.labelWidth || (labelWidth + \'em\'), textAlign: $parent.labelAlign, marginRight: $parent.labelMarginRight}" v-if=title>{{title}}</label> <inline-desc v-if=inlineDesc>{{inlineDesc}}</inline-desc> </div> <div class="weui_cell_bd weui_cell_primary"> <input class=weui_input :autocomplete=autocomplete :autocapitalize=autocapitalize :autocorrect=autocorrect :spellcheck=spellcheck :style=inputStyle :type=type :name=name :pattern=pattern :placeholder=placeholder :readonly=readonly v-model=value @blur=blur v-el:input/> </div> <div class=weui_cell_ft> <icon type=clear v-show="showClear && value && !readonly" @click=clear></icon> <icon type=warn title="{{!valid ? firstError : \'\'}}" v-show="!equalWith && ((touched && !valid && firstError) || (forceShowError && !valid && firstError))"></icon> <icon type=warn v-show="hasLengthEqual && dirty && equalWith && !valid"></icon> <icon type=success v-show="equalWith && equalWith===value && valid"></icon> <slot name=right><slot> </slot></slot></div> </div> '},function(t,e){t.exports=' <div> <router-view :transition="`vux-route-${direction}`"></router-view> </div> '},function(t,e){t.exports=' <div> <x-header :left-options="{showBack: false}" style="background: #8dc128">饭票</x-header> <group> <cell v-for="(id, team) in teams" :title=team.teamName :link="`/${id}`"></cell> </group> </div> '},function(t,e){t.exports=' <div class=page-user _v-732771f4=""> <x-header :left-options="{showBack: true, backText: \'\'}" style="background: #8dc128" _v-732771f4="">{{userName}}</x-header> <div class=count _v-732771f4=""> <span _v-732771f4="">{{teamName}} {{userName}} 已加班 {{count}} 天</span> </div> </div> '},function(t,e){t.exports=' <div class=page-apply _v-79c80d43=""> <x-header :left-options="{showBack: true, backText: \'\'}" style="background: #8dc128" _v-79c80d43="">报名</x-header> <group title="" _v-79c80d43=""> <x-input :placeholder="\'请输入姓名\'" :value.sync=value :required=false @keydown.enter=submit _v-79c80d43=""> <icon type=search @click=submit _v-79c80d43=""></icon> </x-input> </group> <div class=count _v-79c80d43=""><span _v-79c80d43="">已报名{{member.length}}人</span></div> <group title=成员列表 _v-79c80d43=""> <cell v-for="item in member" :title=item :link="\'/\' + team + \'/\' + item" _v-79c80d43=""> <icon type=clear @click.stop=confirmRemove(item) _v-79c80d43=""></icon> </cell> </group> <toast :show.sync=already :type="\'text\'" _v-79c80d43="">该成员已存在</toast> <confirm :show.sync=confirm title=确认删除？ @on-confirm=remove(true) @on-cancel=remove(false) _v-79c80d43=""></confirm> </div> '},function(t,e,i){var o,n;o=i(62),n=i(130),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(111),i(115),i(116),o=i(63),n=i(133),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(112),o=i(64),n=i(131),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(113),i(114),o=i(65),n=i(132),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},function(t,e,i){var o,n;i(104),o=i(56),n=i(123),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)}]);
//# sourceMappingURL=app.59580ccc349f149951d0.js.map